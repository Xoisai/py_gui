
# - - - - - - - - Project Browser - - - - - - - -

# New project popup form
<NewProjectPopup>:
    auto_dismiss: True
    size_hint: 0.5, 0.27
    pos_hint: {"x": 0.25, "y": 0.4}
    title: "New Project"
    project_name: project_name_input.text

    BoxLayout:
        size: root.size
        padding: 10
        spacing: 18
        orientation: "vertical"
        TextInput:
            id: project_name_input
            halign: "center"
            valign: "middle"
            size_hint: 1.0, 0.2
            multiline: False
            hint_text: "Project Name"
            on_text: root.validate_p_name(self.text)

        Button:
            id: add_p_btn
            size_hint: 1.0, 0.2
            text: "Add Project"
            on_release: root.enter()

<ProjectBrowserPage>:
    StandardPage:
        size: root.width, root.height

        PageTitle:
            text: "Project Browser"

        GridLayout:
            cols: 2
            size_hint: 0.3, 0.13
            pos_hint: {"x": 0.6625, "y": 0.725}
            padding: 20
            spacing: 20

            ButtonHtlImg:
                # pos_hint: {"x": 0.8, "y": 0.8}
                on_release:
                Label:
                    text: "Manage"
                Image:
                    size_hint_x: 0.4
                    source: "static/icons/baseline_settings_white_48dp.png"

            ButtonHtlImg:
                # pos_hint: {"x": 0.8, "y": 0.8}
                on_release: root.add_project()
                Label:
                    text: "New"
                Image:
                    size_hint_x: 0.4
                    source: "static/icons/baseline_create_new_folder_white_48dp.png"

        ProjectLineHeader:
            size_hint_x: 0.9
            pos_hint: {"center_x": 0.5, "y": 0.62}

        ScrollView:
            size_hint: 0.9, 0.55
            pos_hint: {"center_x": 0.5, "center_y": 0.35}
            do_scroll_x: False
            do_scroll_y: True
            canvas.before:
                Color:
                    rgba: layout_background
                Rectangle:
                    pos: self.pos
                    size: self.size

            GridLayout:
                id: project_grid
                size_hint_y: None
                height: self.minimum_height
                row_default_height: 60
                spacing: 20
                padding: 20
                cols: 1

# - - - - - - - - Project View - - - - - - - -

<ProjectViewPage>:

    StandardPage:
        size: root.width, root.height

        PageTitle:
            id: page_title

        GridLayout:
            cols: 2
            size_hint: 0.3, 0.1
            pos_hint: {"x": 0.6625, "y": 0.725}
            padding: 20
            spacing: 20

            ButtonHtlImg:
                on_release:
                Label:
                    text: "Manage"
                Image:
                    size_hint_x: 0.4
                    source: "static/icons/baseline_settings_white_48dp.png"

            ButtonHtlImg:
                on_release: root.new_capture_btn()
                Label:
                    text: "New"
                Image:
                    size_hint_x: 0.4
                    source: "static/icons/baseline_add_a_photo_white_48dp.png"

        ScrollView:
            size_hint: 0.9, 0.65
            pos_hint: {"center_x": 0.5, "center_y": 0.4}
            do_scroll_x: False
            do_scroll_y: True

            GridLayout:
                id: s_btn_grid
                cols: 4
                size_hint_y: None
                height: self.minimum_height
                row_default_height: 300
                spacing: 20
